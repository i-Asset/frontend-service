<!--
 * Copyright 2020
 * SRDC - Software Research & Development Consultancy; Ankara; Turkey
   In collaboration with
 * SRFG - Salzburg Research Forschungsgesellschaft mbH; Salzburg; Austria
   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
 -->

<div class="row">
  <div class="col-12">
    <h4>
        <p><span [innerHTML]="'Register Asset' | translate"></span></p>
    </h4>
  </div>
</div>

<!------------------------------------------------------------------------------------------------------------>
<!-- Topmost navigation bar -->
<!------------------------------------------------------------------------------------------------------------>
<ul class="nav nav-tabs" *ngIf="publishMode !== 'edit' && publishMode !== 'copy'">
    <li class="nav-item">
        <a href id="singleUpload"
           [ngClass]="{'nav-link': true, active: publishingGranularity === 'manually'}"
           (click)="onSelectTab($event,'singleUpload')">
            <span [innerHTML]="'Register Asset Type' | translate"></span>
        </a>
    </li>

    <li class="nav-item">
        <a href id="bulkUpload"
           [ngClass]="{'nav-link': true, active: publishingGranularity == 'automatically'}"
           (click)="onSelectTab($event,'bulkUpload')">
            <span [innerHTML]="'Register Asset Instance' | translate"></span>
        </a>
    </li>
</ul>
<br/>

<!------------------------------------------------------------------------------------------------------------>
<!-- Area for components of manual adding -->
<!------------------------------------------------------------------------------------------------------------>
<div *ngIf="publishingGranularity === 'manually'">

    <div class="jumbotron">
        <span [innerHTML]="'Asset Types have to be defined using a valid AAS JSON' | translate"></span>.<br />
        <span [innerHTML]="'Add your company ID to the information submodel' | translate"></span>: <b>{{companyID}}</b><br />
        <span [innerHTML]="'For optimal results use ECLASS IDs in the model definitions' | translate"></span>: <a href="https://www.eclass.eu/en/standard/search-in-eclass.html" target="_blank"><span [innerHTML]="'ECLASS search' | translate"></span></a><br />
        <span [innerHTML]="'For example code please refer to our Registry Service Swagger and the AAS homepage' | translate"></span>.<br />
        <a class="btn btn-primary mt-2 mr-2" href="https://iasset.salzburgresearch.at/registry-service/swagger-ui.html#/asset-registry-controller/setAssetAdministrationShellUsingPOST" target="_blank"><span [innerHTML]="'Registry Service Swagger' | translate"></span></a><a class="btn btn-primary mt-2" href="http://admin-shell-io.com/" target="_blank"><span [innerHTML]="'AAS homepage' | translate"></span></a>
    </div>

    <call-status [callStatus]="aasCallStatus" [large]="true"></call-status>

    <div class="row" [hidden]="aasCallStatus.isLoading()">
      <div class="col-12">
        <textarea class="form-control" rows="10" style="resize:vertical !important;" placeholder="AAS JSON" [(ngModel)]="aasUpload"></textarea>
        <button class="btn btn-lg btn-success mt-3" [disabled]="aasUpload==''" (click)="uploadAAS()"><span [innerHTML]="'Register Asset' | translate"></span></button>
      </div>
    </div>

</div>

<!------------------------------------------------------------------------------------------------------------>
<!-- Area for components of automatic adding -->
<!------------------------------------------------------------------------------------------------------------>
<div *ngIf="publishingGranularity === 'automatically'">

  <div class="jumbotron">
      <span [innerHTML]="'Asset Instances have to be registered on the SDK level' | translate"></span>.<br />
      <span [innerHTML]="'Use an existing Asset Type ID' | translate"></span>: <a href="#/simple-search?sTop=prod" target="_blank"><span [innerHTML]="'Search for Asset Types' | translate"></span></a><br />
      <span [innerHTML]="'For example code please refer to our ClientDevice repository and the AAS homepage' | translate"></span>.<br />
      <a class="btn btn-primary mt-2 mr-2" href="https://github.com/i-Asset/iAsset-ClientDevices" target="_blank"><span [innerHTML]="'ClientDevice repository' | translate"></span></a><a class="btn btn-primary mt-2" href="http://admin-shell-io.com/" target="_blank"><span [innerHTML]="'AAS homepage' | translate"></span></a>
  </div>

</div>
